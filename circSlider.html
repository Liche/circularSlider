<!DOCTYPE html>
<html>
    <head>
        <title>Test de slider circulaire</title>
        <script type="text/javascript" src="jquery-1.4.4.js"></script>
        <script type="text/javascript" src="raphael.js"></script>
        <script type="text/javascript" src="circularCursor.js"></script>
    </head>
    <body style="background-color: black;">
        <div id="canvas" style="width: 640px; margin: 0 auto;">
        </div>
        <script type="text/javascript">
            $(document).ready(function () {
                // Création du canvas
                var paper = Raphael("canvas", 640, 480);
                paper.rect(0, 0, 640, 480, 10).attr({fill: "#ddd", stroke: "none"});
                paper.circle(200, 200, 150).attr({stroke: '#aaa', 'stroke-width': 5});

                // Création du curseur
                var cursor = paper.circle(320, 240, 10).attr({stroke: '#000', 'stroke-width': 5, fill: '#ddd'});


                // Initialisation du moteur de curseur
                myCursor = new circularCursor(cursor, 150, 1000, 10);
                myCursor.initialize({
                    center: {x: 200, y: 200},
                    min: -100,
                    max: 1200,
                    start: 10,
                });

                // Valeur du curseur
                var text = paper.text(20, 400, myCursor.getValue(), paper.getFont("Times"), 14).attr({fill: "#000"});
                // Bouton reset
                paper.rect(500, 10, 65, 20).attr({fill: "#aaa"});
                var reset = paper.text(530, 20, 'reset', paper.getFont("Times"), 14).attr({fill: "#000"})

                // Callback pour la valeur du curseur
                myCursor.setMoveCallback(function () {
                    text.attr({text: myCursor.getValue()});
                });
                reset.click(function () {
                    myCursor.setValue(100);
                    text.attr({text: '100'});
                });
            });
        </script>
    </body>
</html>
